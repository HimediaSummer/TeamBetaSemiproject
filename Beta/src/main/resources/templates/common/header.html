<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/springsecurity">
<head>
    <title>Authorization Status</title>
</head>
<div class="nav" th:fragment="navbar" xmlns:sec="http://www.w3.org/1999/xhtml">
    <div class="nav-menu">
        <a href="/">
            <div class="logo">
                <img src="/static/img/logo.svg" alt="Gamsung Station">
            </div>
        </a>

        <div class="main-nav-menu">
            <a sec:authorize="isAnonymous()" href="/auth/login">
                <div class="my-page">
                    <i class="fa-solid fa-lock"></i>
                    <h3>MY PAGE</h3>
                </div>
            </a>
    
            <a href="/admin/FAQ">
                <div class="community">
                    <i class="fa-solid fa-comments"></i>
                    <h3>COMMUNITY</h3>
                </div>
            </a>

            <!--로그인 안된 상태에서 로그인 표시-->
            <div class="modal">
                <a sec:authorize="isAnonymous()" th:href="@{/auth/login}"  id="loginLink">
                    <div class="login">
<!--                        <i class="fa-solid fa-user-large"></i>-->
                        <i class="fa-solid fa-circle-check"></i>
                        <h3>LOG IN</h3>
                    </div>
                </a>
            </div>

            <!--로그인 한 사용자 이름 표시 및 어드민일 경우 접속 가능한 링크-->
            <a sec:authorize="hasAnyAuthority('ADMIN')" href="/admin/memberList">
                <div class="username">
                    <i class="fa-solid fa-circle-user"></i>
                    <h3 sec:authentication="name"></h3>
                </div>
            </a>

            <!--로그인 한 사용자 이름 표시 및 유저인 경우 접속 가능한 링크-->
            <a sec:authorize="hasAnyAuthority('USER')" href="/cart/history">
                <div class="username">
                    <i class="fa-solid fa-circle-user"></i>
                    <h3 sec:authentication="name"></h3>
                </div>
            </a>

            <!-- 로그인이 된 상태에서는 로그아웃 표시 -->
            <a sec:authorize="isAuthenticated()" th:href="@{/auth/logout}">
                <div class="logout">
                    <i class="fa-solid fa-circle-xmark"></i>
                    <h3>LOG OUT</h3>
                </div>
            </a>

        </div>
    </div>
</div>

</html>