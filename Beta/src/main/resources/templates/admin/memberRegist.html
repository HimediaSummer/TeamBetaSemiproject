<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>regist</title>
    <style>
        body {
            font-family: Arial, sans-serif; /* 폰트 스타일 */
            padding: 20px; /* 전체 패딩 */
            background-color: #f9f9f9; /* 배경색 */
        }
        form {
            max-width: 400px; /* 폼의 최대 너비 */
            margin: auto; /* 가운데 정렬 */
            padding: 20px; /* 폼 내 여백 */
            border: 1px solid #dddddd; /* 테두리 색상 */
            border-radius: 8px; /* 둥근 테두리 */
            background-color: white; /* 폼 배경색 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* 그림자 효과 */
        }
        label {
            display: block; /* 라벨을 블록 요소로 */
            margin: 10px 0 5px; /* 간격 조절 */
        }
        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        select {
            width: 100%; /* 전체 너비 사용 */
            padding: 10px; /* 내부 여백 */
            border: 1px solid #dddddd; /* 테두리 색상 */
            border-radius: 4px; /* 둥근 테두리 */
            box-sizing: border-box; /* 패딩과 테두리를 포함한 전체 크기 */
            margin-bottom: 15px; /* 아래쪽 간격 */
        }
        input[type="submit"] {
            background-color: #6c757d; /* 버튼 배경색 */
            color: white; /* 버튼 글자 색상 */
            border: none; /* 버튼 테두리 없음 */
            border-radius: 4px; /* 둥근 테두리 */
            padding: 10px; /* 내부 여백 */
            cursor: pointer; /* 마우스 포인터 변경 */
            font-size: 16px; /* 글자 크기 */
            width: 100%; /* 전체 너비 사용 */
        }
        input[type="submit"]:hover {
            background-color: #5a6268; /* 버튼 호버 색상 */
        }
    </style>
</head>
<body>
<!--    <h3>회원등록</h3>-->
<!--    <form action="/admin/memberRegist" method="post">-->
<!--        <label>회원아이디</label><input type="text" name="userId" placeholder="아이디를 입력하세요" required><br>-->
<!--        <label>회원이름</label><input type="text" name="userName" placeholder="이름을 입력하세요" required><br>-->
<!--        <label>회원별명</label><input type="text" name="nickName" placeholder="별명을 입력하세요" required><br>-->
<!--        <label>회원비번</label><input type="password" name="pwd" placeholder="비밀번호를 입력하세요" required><br>-->
<!--        <label>회원생일</label><input type="date" name="birthday" placeholder="생일을 입력하세요" required><br>-->
<!--        <label>회원메일</label><input type="email" name="email" placeholder="이메일을 입력하세요" required><br>-->
<!--        <label>회원전화</label><input type="tel" name="phone" placeholder="전화번호를 입력하세요" required><br>-->
<!--        <label>정지여부</label>-->
<!--        <select name="suspension" required>-->
<!--            <option value="Y">Y</option>-->
<!--            <option value="N">N</option>-->
<!--        </select><br>-->
<!--        <label>탈퇴여부</label>-->
<!--        <select name="deletion" required>-->
<!--            <option value="Y">Y</option>-->
<!--            <option value="N">N</option>-->
<!--        </select><br>-->
<!--        <label>프로필사진<input type="text" name="profileimg" placeholder="프로필 사진을 등록하세요" required></label><br>-->
<!--&lt;!&ndash;        <label>프로필사진<input type="file" name="profileimg"></label><br>&ndash;&gt;-->
<!--        <label>권한코드<input type="text" name="authorityCode" placeholder="권한코드를 입력하세요" required></label><br>-->
<!--        <input type="submit" value="전송">-->
<!--    </form>-->

    <h3>회원등록</h3>
    <form id="registrationForm" onsubmit="return handleSubmit(event);">
        <label>회원아이디</label><input type="text" name="userId" placeholder="아이디를 입력하세요" required><br>
        <label>회원이름</label><input type="text" name="userName" placeholder="이름을 입력하세요" required><br>
        <label>회원별명</label><input type="text" name="nickName" placeholder="별명을 입력하세요" required><br>
        <label>회원비번</label><input type="password" name="pwd" placeholder="비밀번호를 입력하세요" required><br>
        <label>회원생일</label><input type="date" name="birthday" placeholder="생일을 입력하세요" required><br>
        <label>회원메일</label><input type="email" name="email" placeholder="이메일을 입력하세요" required><br>
        <label>회원전화</label><input type="tel" name="phone" placeholder="전화번호를 입력하세요" required><br>
        <label>정지여부</label>
        <select name="suspension" required>
            <option value="Y">Y</option>
            <option value="N">N</option>
        </select><br>
        <label>탈퇴여부</label>
        <select name="deletion" required>
            <option value="Y">Y</option>
            <option value="N">N</option>
        </select><br>
        <label>프로필사진<input type="text" name="profileimg" placeholder="프로필 사진을 등록하세요" required></label><br>
        <label>권한코드<input type="text" name="authorityCode" placeholder="권한코드를 입력하세요" required></label><br>
        <input type="submit" value="전송">
    </form>

<script>
    function handleSubmit(event) {
        event.preventDefault(); // 기본 폼 제출 방지

        // 폼 데이터를 수집
        const formData = new FormData(event.target);

        // AJAX 요청을 보내는 예시
        fetch('/admin/memberRegist', {
            method: 'POST',
            body: formData
        })
            .then(response => {
                if (response.ok) {
                    // 성공적으로 제출된 경우 리스트를 새로고침
                    window.opener.location.reload(); // 부모 창 새로고침
                    window.close(); // 현재 창 닫기
                } else {
                    alert('오류가 발생했습니다. 다시 시도해주세요.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('서버에 연결할 수 없습니다.');
            });

        return false; // 더 이상의 기본 동작 방지
    }
</script>
</body>
</html>